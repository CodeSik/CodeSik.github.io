<!DOCTYPE html>
<html lang="ko" class="no-js">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    

    

    

    
    

    
    

    <title>2020-09-06 TIL | CodeSik의 개발 공방</title>
    <meta name="description" content="jekyll blog에서 web bookmark를 만들면서 고민한 과정">
    
        <meta name="keywords" content="Javascript, jekyll, web bookmark, fetch, CORS">
    

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="2020-09-06 TIL | CodeSik의 개발 공방">
    <meta name="twitter:description" content="jekyll blog에서 web bookmark를 만들면서 고민한 과정">
    <meta property="twitter:image:src" content="http://localhost:4000/assets/img/blog-image.png">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="http://localhost:4000/2020-09-06-TIL/">
    <meta property="og:title" content="2020-09-06 TIL | CodeSik의 개발 공방">
    <meta property="og:image" content="http://localhost:4000/assets/img/blog-image.png">
    <meta property="og:description" content="jekyll blog에서 web bookmark를 만들면서 고민한 과정">
    <meta property="og:site_name" content="CodeSik의 개발 공방 Tech Blog">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/assets/img/icons/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" />

    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="CodeSik의 개발 공방">
    <meta name="msapplication-TileColor" content="#141414">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />

    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="#141414">

    <!-- google analytics -->
    <meta name="google-site-verification" content="z4OQUypXRVSm_GIpw1UUT_TNmy3eFdXI6hkzbfprBt4" />

    <!-- naver webmaster -->
    <meta name="naver-site-verification" content="efc138ea2f24a72a7630575c0393fb4863cb9160" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="canonical" href="http://localhost:4000/2020-09-06-TIL/">
    <link rel="alternate" type="application/rss+xml" title="CodeSik의 개발 공방 Tech Blog" href="http://localhost:4000/feed.xml" />

    <!-- Include extra styles -->
    

    <!-- JavaScript enabled/disabled -->
    <script>
        document.querySelector('html').classList.remove('no-js');
    </script>
</head>

    <body class="has-push-menu">
        





        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" display="none" version="1.1"><defs><symbol id="icon-menu" viewBox="0 0 1024 1024"><path class="path1" d="M128 213.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 725.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 469.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5z"/></symbol><symbol id="icon-search" viewBox="0 0 951 1024"><path class="path1" d="M658.286 475.429q0-105.714-75.143-180.857t-180.857-75.143-180.857 75.143-75.143 180.857 75.143 180.857 180.857 75.143 180.857-75.143 75.143-180.857zM950.857 950.857q0 29.714-21.714 51.429t-51.429 21.714q-30.857 0-51.429-21.714l-196-195.429q-102.286 70.857-228 70.857-81.714 0-156.286-31.714t-128.571-85.714-85.714-128.571-31.714-156.286 31.714-156.286 85.714-128.571 128.571-85.714 156.286-31.714 156.286 31.714 128.571 85.714 85.714 128.571 31.714 156.286q0 125.714-70.857 228l196 196q21.143 21.143 21.143 51.429z"/></symbol><symbol id="icon-close" viewBox="0 0 1000 1000"><path d="M969.8,870.3c27,27.7,27,71.8,0,99.1C955.7,983,937.9,990,920,990c-17.9,0-35.7-7-49.7-20.7L500,599L129.6,969.4C115.6,983,97.8,990,79.9,990s-35.7-7-49.7-20.7c-27-27.3-27-71.4,0-99.1L400.9,500L30.3,129.3c-27-27.3-27-71.4,0-99.1c27.3-27,71.8-27,99.4,0L500,400.9L870.4,30.2c27.7-27,71.8-27,99.4,0c27,27.7,27,71.8,0,99.1L599.1,500L969.8,870.3z"/></symbol><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"/></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"/></symbol><symbol id="icon-clock" viewBox="0 0 1000 1000"><path d="M500,10C229.8,10,10,229.8,10,500c0,270.2,219.8,490,490,490c270.2,0,490-219.8,490-490C990,229.8,770.2,10,500,10z M500,910.2c-226.2,0-410.2-184-410.2-410.2c0-226.2,184-410.2,410.2-410.2c226.2,0,410.2,184,410.2,410.2C910.2,726.1,726.2,910.2,500,910.2z M753.1,374c8.2,11.9,5.2,28.1-6.6,36.3L509.9,573.7c-4.4,3.1-9.6,4.6-14.8,4.6c-4.1,0-8.3-1-12.1-3c-8.6-4.5-14-13.4-14-23.1V202.5c0-14.4,11.7-26.1,26.1-26.1c14.4,0,26.1,11.7,26.1,26.1v300l195.6-135.1C728.7,359.2,744.9,362.1,753.1,374z"/></symbol><symbol id="icon-calendar" viewBox="0 0 1000 1000"><path d="M920,500v420H80V500H920 M990,430H10v490c0,38.7,31.3,70,70,70h840c38.7,0,70-31.3,70-70V430L990,430z"/><path d="M850,80v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80H360v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80C72.8,80,10,142.7,10,220v140h980V220C990,142.7,927.2,80,850,80z"/><path d="M255,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C290,25.8,274.3,10,255,10z"/><path d="M745,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C780,25.8,764.3,10,745,10z"/></symbol><symbol id="icon-last-modified" viewBox="0 0 24 24"><defs><path d="M0 0h24v24H0z"/></defs><path d="M11 8.75v3.68c0 .35.19.68.49.86l3.12 1.85c.36.21.82.09 1.03-.26.21-.36.1-.82-.26-1.03l-2.87-1.71v-3.4c-.01-.4-.35-.74-.76-.74-.41 0-.75.34-.75.75zm10 .75V4.21c0-.45-.54-.67-.85-.35l-1.78 1.78c-1.81-1.81-4.39-2.85-7.21-2.6-4.19.38-7.64 3.75-8.1 7.94C2.46 16.4 6.69 21 12 21c4.59 0 8.38-3.44 8.93-7.88.07-.6-.4-1.12-1-1.12-.5 0-.92.37-.98.86-.43 3.49-3.44 6.19-7.05 6.14-3.71-.05-6.84-3.18-6.9-6.9C4.94 8.2 8.11 5 12 5c1.93 0 3.68.79 4.95 2.05l-2.09 2.09c-.32.32-.1.86.35.86h5.29c.28 0 .5-.22.5-.5z"/></symbol><symbol id="icon-github" viewBox="0 0 12 14"><path d="M6 1q1.633 0 3.012 0.805t2.184 2.184 0.805 3.012q0 1.961-1.145 3.527t-2.957 2.168q-0.211 0.039-0.312-0.055t-0.102-0.234q0-0.023 0.004-0.598t0.004-1.051q0-0.758-0.406-1.109 0.445-0.047 0.801-0.141t0.734-0.305 0.633-0.52 0.414-0.82 0.16-1.176q0-0.93-0.617-1.609 0.289-0.711-0.062-1.594-0.219-0.070-0.633 0.086t-0.719 0.344l-0.297 0.187q-0.727-0.203-1.5-0.203t-1.5 0.203q-0.125-0.086-0.332-0.211t-0.652-0.301-0.664-0.105q-0.352 0.883-0.062 1.594-0.617 0.68-0.617 1.609 0 0.664 0.16 1.172t0.41 0.82 0.629 0.523 0.734 0.305 0.801 0.141q-0.305 0.281-0.383 0.805-0.164 0.078-0.352 0.117t-0.445 0.039-0.512-0.168-0.434-0.488q-0.148-0.25-0.379-0.406t-0.387-0.187l-0.156-0.023q-0.164 0-0.227 0.035t-0.039 0.090 0.070 0.109 0.102 0.094l0.055 0.039q0.172 0.078 0.34 0.297t0.246 0.398l0.078 0.18q0.102 0.297 0.344 0.48t0.523 0.234 0.543 0.055 0.434-0.027l0.18-0.031q0 0.297 0.004 0.691t0.004 0.426q0 0.141-0.102 0.234t-0.312 0.055q-1.812-0.602-2.957-2.168t-1.145-3.527q0-1.633 0.805-3.012t2.184-2.184 3.012-0.805zM2.273 9.617q0.023-0.055-0.055-0.094-0.078-0.023-0.102 0.016-0.023 0.055 0.055 0.094 0.070 0.047 0.102-0.016zM2.516 9.883q0.055-0.039-0.016-0.125-0.078-0.070-0.125-0.023-0.055 0.039 0.016 0.125 0.078 0.078 0.125 0.023zM2.75 10.234q0.070-0.055 0-0.148-0.062-0.102-0.133-0.047-0.070 0.039 0 0.141t0.133 0.055zM3.078 10.562q0.062-0.062-0.031-0.148-0.094-0.094-0.156-0.023-0.070 0.062 0.031 0.148 0.094 0.094 0.156 0.023zM3.523 10.758q0.023-0.086-0.102-0.125-0.117-0.031-0.148 0.055t0.102 0.117q0.117 0.047 0.148-0.047zM4.016 10.797q0-0.102-0.133-0.086-0.125 0-0.125 0.086 0 0.102 0.133 0.086 0.125 0 0.125-0.086zM4.469 10.719q-0.016-0.086-0.141-0.070-0.125 0.023-0.109 0.117t0.141 0.062 0.109-0.109z"></path></symbol><symbol id="icon-medium" viewBox="0 0 1000 1000"><path d="M336.5,240.2v641.5c0,9.1-2.3,16.9-6.8,23.2s-11.2,9.6-20,9.6c-6.2,0-12.2-1.5-18-4.4L37.3,782.7c-7.7-3.6-14.1-9.8-19.4-18.3S10,747.4,10,739V115.5c0-7.3,1.8-13.5,5.5-18.6c3.6-5.1,8.9-7.7,15.9-7.7c5.1,0,13.1,2.7,24.1,8.2l279.5,140C335.9,238.6,336.5,239.5,336.5,240.2L336.5,240.2z M371.5,295.5l292,473.6l-292-145.5V295.5z M990,305.3v576.4c0,9.1-2.6,16.5-7.7,22.1c-5.1,5.7-12,8.5-20.8,8.5s-17.3-2.4-25.7-7.1L694.7,784.9L990,305.3z M988.4,239.7c0,1.1-46.8,77.6-140.3,229.4C754.6,621,699.8,709.8,683.8,735.7L470.5,389l177.2-288.2c6.2-10.2,15.7-15.3,28.4-15.3c5.1,0,9.8,1.1,14.2,3.3l295.9,147.7C987.6,237.1,988.4,238.2,988.4,239.7L988.4,239.7z"/></symbol><symbol id="icon-instagram" viewBox="0 0 489.84 489.84"><path d="M249.62,50.46c65.4,0,73.14.25,99,1.43C372.47,53,385.44,57,394.07,60.32a75.88,75.88,0,0,1,28.16,18.32,75.88,75.88,0,0,1,18.32,28.16c3.35,8.63,7.34,21.6,8.43,45.48,1.18,25.83,1.43,33.57,1.43,99s-0.25,73.14-1.43,99c-1.09,23.88-5.08,36.85-8.43,45.48a81.11,81.11,0,0,1-46.48,46.48c-8.63,3.35-21.6,7.34-45.48,8.43-25.82,1.18-33.57,1.43-99,1.43s-73.15-.25-99-1.43c-23.88-1.09-36.85-5.08-45.48-8.43A75.88,75.88,0,0,1,77,423.86,75.88,75.88,0,0,1,58.69,395.7c-3.35-8.63-7.34-21.6-8.43-45.48-1.18-25.83-1.43-33.57-1.43-99s0.25-73.14,1.43-99c1.09-23.88,5.08-36.85,8.43-45.48A75.88,75.88,0,0,1,77,78.64a75.88,75.88,0,0,1,28.16-18.32c8.63-3.35,21.6-7.34,45.48-8.43,25.83-1.18,33.57-1.43,99-1.43m0-44.13c-66.52,0-74.86.28-101,1.47s-43.87,5.33-59.45,11.38A120.06,120.06,0,0,0,45.81,47.44,120.06,120.06,0,0,0,17.56,90.82C11.5,106.4,7.36,124.2,6.17,150.27s-1.47,34.46-1.47,101,0.28,74.86,1.47,101,5.33,43.87,11.38,59.45a120.06,120.06,0,0,0,28.25,43.38,120.06,120.06,0,0,0,43.38,28.25c15.58,6.05,33.38,10.19,59.45,11.38s34.46,1.47,101,1.47,74.86-.28,101-1.47,43.87-5.33,59.45-11.38a125.24,125.24,0,0,0,71.63-71.63c6.05-15.58,10.19-33.38,11.38-59.45s1.47-34.46,1.47-101-0.28-74.86-1.47-101-5.33-43.87-11.38-59.45a120.06,120.06,0,0,0-28.25-43.38,120.06,120.06,0,0,0-43.38-28.25C394.47,13.13,376.67,9,350.6,7.8s-34.46-1.47-101-1.47h0Z" transform="translate(-4.7 -6.33)" /><path d="M249.62,125.48A125.77,125.77,0,1,0,375.39,251.25,125.77,125.77,0,0,0,249.62,125.48Zm0,207.41a81.64,81.64,0,1,1,81.64-81.64A81.64,81.64,0,0,1,249.62,332.89Z" transform="translate(-4.7 -6.33)"/><circle cx="375.66" cy="114.18" r="29.39" /></symbol><symbol id="icon-linkedin" viewBox="0 0 12 14"><path d="M2.727 4.883v7.742h-2.578v-7.742h2.578zM2.891 2.492q0.008 0.57-0.395 0.953t-1.059 0.383h-0.016q-0.641 0-1.031-0.383t-0.391-0.953q0-0.578 0.402-0.957t1.051-0.379 1.039 0.379 0.398 0.957zM12 8.187v4.437h-2.57v-4.141q0-0.82-0.316-1.285t-0.988-0.465q-0.492 0-0.824 0.27t-0.496 0.668q-0.086 0.234-0.086 0.633v4.32h-2.57q0.016-3.117 0.016-5.055t-0.008-2.313l-0.008-0.375h2.57v1.125h-0.016q0.156-0.25 0.32-0.438t0.441-0.406 0.68-0.34 0.895-0.121q1.336 0 2.148 0.887t0.813 2.598z"></path></symbol><symbol id="icon-heart" viewBox="0 0 34 30"><path d="M17,29.7 L16.4,29.2 C3.5,18.7 0,15 0,9 C0,4 4,0 9,0 C13.1,0 15.4,2.3 17,4.1 C18.6,2.3 20.9,0 25,0 C30,0 34,4 34,9 C34,15 30.5,18.7 17.6,29.2 L17,29.7 Z M9,2 C5.1,2 2,5.1 2,9 C2,14.1 5.2,17.5 17,27.1 C28.8,17.5 32,14.1 32,9 C32,5.1 28.9,2 25,2 C21.5,2 19.6,4.1 18.1,5.8 L17,7.1 L15.9,5.8 C14.4,4.1 12.5,2 9,2 Z" id="Shape"></path></symbol><symbol id="icon-arrow-right" viewBox="0 0 25.452 25.452"><path d="M4.471,24.929v-2.004l12.409-9.788c0.122-0.101,0.195-0.251,0.195-0.411c0-0.156-0.073-0.31-0.195-0.409L4.471,2.526V0.522c0-0.2,0.115-0.384,0.293-0.469c0.18-0.087,0.396-0.066,0.552,0.061l15.47,12.202c0.123,0.1,0.195,0.253,0.195,0.409c0,0.16-0.072,0.311-0.195,0.411L5.316,25.34c-0.155,0.125-0.372,0.147-0.552,0.061C4.586,25.315,4.471,25.13,4.471,24.929z"/></symbol><symbol id="icon-star" viewBox="0 0 48 48"><path fill="currentColor" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"/><path fill="#ffffff" d="M24,11l3.898,7.898l8.703,1.301l-6.301,6.102l1.5,8.699L24,30.898L16.199,35l1.5-8.699l-6.301-6.102  l8.703-1.301L24,11z"/></symbol><symbol id="icon-read" viewBox="0 0 32 32"><path fill="currentColor" d="M29,4H3C1.343,4,0,5.343,0,7v18c0,1.657,1.343,3,3,3h10c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1h10  c1.657,0,3-1.343,3-3V7C32,5.343,30.657,4,29,4z M29,5v20H18.708c-0.618,0-1.236,0.146-1.789,0.422l-0.419,0.21V5H29z M15.5,5  v20.632l-0.419-0.21C14.528,25.146,13.91,25,13.292,25H3V5H15.5z M31,25c0,1.103-0.897,2-2,2H18v1h-4v-1H3c-1.103,0-2-0.897-2-2V7  c0-0.737,0.405-1.375,1-1.722V25c0,0.552,0.448,1,1,1h10.292c0.466,0,0.925,0.108,1.342,0.317l0.919,0.46  c0.141,0.07,0.294,0.106,0.447,0.106c0.153,0,0.306-0.035,0.447-0.106l0.919-0.46C17.783,26.108,18.242,26,18.708,26H29  c0.552,0,1-0.448,1-1V5.278C30.595,5.625,31,6.263,31,7V25z M6,12.5C6,12.224,6.224,12,6.5,12h5c0.276,0,0.5,0.224,0.5,0.5  S11.776,13,11.5,13h-5C6.224,13,6,12.776,6,12.5z M6,14.5C6,14.224,6.224,14,6.5,14h5c0.276,0,0.5,0.224,0.5,0.5S11.776,15,11.5,15  h-5C6.224,15,6,14.776,6,14.5z M6,16.5C6,16.224,6.224,16,6.5,16h5c0.276,0,0.5,0.224,0.5,0.5S11.776,17,11.5,17h-5  C6.224,17,6,16.776,6,16.5z M20,12.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,13,25.5,13h-5  C20.224,13,20,12.776,20,12.5z M20,14.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,15,25.5,15h-5  C20.224,15,20,14.776,20,14.5z M20,16.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,17,25.5,17h-5  C20.224,17,20,16.776,20,16.5z"></path></symbol><symbol id="icon-tistory" viewBox="0 0 459 459"><path d="M229.5,0C102.75,0,0,102.75,0,229.5S102.75,459,229.5,459,459,356.25,459,229.5,356.25,0,229.5,0ZM130.21,191.45a39.57,39.57,0,1,1,39.56-39.57A39.58,39.58,0,0,1,130.21,191.45ZM229.5,390a39.56,39.56,0,1,1,39.56-39.56A39.56,39.56,0,0,1,229.5,390Zm0-99.29a39.56,39.56,0,1,1,39.56-39.56A39.56,39.56,0,0,1,229.5,290.74Zm0-99.29a39.57,39.57,0,1,1,39.56-39.57A39.57,39.57,0,0,1,229.5,191.45Zm99.29,0a39.57,39.57,0,1,1,39.57-39.57A39.57,39.57,0,0,1,328.79,191.45Z"/></symbol></defs></svg>

        <header class="bar-header">
    <a id="menu" role="button">
        <svg id="open" class="icon-menu"><use xlink:href="#icon-menu"></use></svg>
    </a>
    <h1 class="logo">
        <a href="/">
            
                CodeSik의 개발 공방 <span class="version"></span>
            
        </a>
    </h1>
    <a id="search" class="dosearch" role="button">
        <svg class="icon-search"><use xlink:href="#icon-search"></use></svg>
    </a>
    
</header>

<div id="mask" class="overlay"></div>

<aside class="sidebar" id="sidebar">
    <nav id="navigation">
      <h2>Menu</h2>
      <ul>
  
    
      <li>
        <a href="http://localhost:4000/">Home</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/about">About</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/tags">Tags</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/contact">Contact</a>
      </li>
    
  
</ul>

    </nav>
</aside>

<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="검색 하기">
        <svg class="icon-remove-sign"><use xlink:href="#icon-close"></use></svg>
        <ul class="search-results search-list"></ul>
    </div>
</div>




        <section class="post one-column">
            <article role="article" class="post-content">
                <p class="post-info">
                    
                        <svg class="icon-calendar" id="date"><use xlink:href="#icon-calendar"></use></svg>
                        <time class="date" datetime="2020-09-06T23:30:00+09:00">
                            


September 6, 2020

                        </time>
                    
                    <svg id="clock" class="icon-clock"><use xlink:href="#icon-clock"></use></svg>
                    <span>4 min to read</span>
                    <!-- last-updated -->
                    <span class = "last-modified">
                        <svg id="last-modified" class="icon-last-modified"><use xlink:href="#icon-last-modified"></use></svg>
                        <span >last modified at </span>
                    </span>
                </p>
                <h1 class="post-title">2020-09-06 TIL</h1>
                <p class="post-subtitle">Web bookmark 개발 개요</p>

                

                <!-- Pagination links -->




                <p>오늘은 웹 북마크를 만든다고 시간을 많이 보냈다.<br />
오늘 한 고민과 질문들을 적어보았다.</p>

<p class="callout">
    💡 web bookmark를 만들면서 한 고민 <br />
    - jekyll에서 include의 parameter를 어떻게 넘기지?<br />
    - web bookmark의 내용은 어디서 가져오는가?<br />
    - url 링크에 있는 metadata는 어떻게 가져올까?<br />
    - fetch api를 사용하는 방법은?<br />
    - CORS 에러<br />
    - JSONP를 이용하여 CORS 우회<br />
    - Webpack<br />
</p>

<p>질문이 꼬리에 꼬리를 물고 나왔다. 진행하며 나온 질문들을 순차적으로 하나씩 적어보았다.</p>

<h2 id="jekyll에서-parameter-넘기기">Jekyll에서 parameter 넘기기</h2>

<p>web bookmark용 html을 새로 작성했다. 웹 북마크가 필요할때마다 해당 html을 include하여 사용할 것이다.</p>

<p>파라미터 my_url로 https://example.com을 넘겨주기 - <strong>til.md</strong></p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="p">{</span><span class="sx">% include </span><span class="n">web</span><span class="o">-</span><span class="n">bookmark</span><span class="p">.</span><span class="nf">html</span> <span class="n">my_url</span><span class="o">=</span><span class="s1">'https://example.com'</span> <span class="o">%</span><span class="p">}</span> 

</code></pre></div></div>

<p>입력받은 인자 사용 - <strong>web-bookmark.html</strong></p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">&lt;!--</span> <span class="err">북마크</span> <span class="err">템플릿</span> <span class="err">파일</span> <span class="o">--&gt;</span>
<span class="p">{{</span> <span class="kp">include</span><span class="p">.</span><span class="nf">my_url</span> <span class="p">}}</span>

</code></pre></div></div>

<p>참고 <br />
<a href="https://stackoverflow.com/questions/21976330/passing-parameters-to-inclusion-in-liquid-templates">https://stackoverflow.com/questions/21976330/passing-parameters-to-inclusion-in-liquid-templates</a><br />
<a href="https://blog.ab180.co/posts/open-graph-as-a-website-preview">https://blog.ab180.co/posts/open-graph-as-a-website-preview</a></p>

<h2 id="북마크-만들기">북마크 만들기</h2>

<hr />

<p>티스토리나 노션에 있는 북마크 기능을 만들려고 한다. 아래 사진같은 기능이다. 깃허브 블로그에 이 기능을 구현하려고 한다.</p>

<p>티스토리 북마크
<img src="https://res.cloudinary.com/dtttkj2mc/image/upload/v1599395410/post/web/bookmark/bookmark-tistory_gdtcpy.png" alt="티스토리 북마크" /></p>

<p>노션 북마크
<img src="https://res.cloudinary.com/dtttkj2mc/image/upload/v1599395367/post/web/bookmark/bookmark-notion_nlxeyv.png" alt="노션 북마크" /></p>

<p>링크 제목, 설명, url, 이미지 등의 정보를 얻어와 보기 좋게 카드형태로 만들어주는 기능이다.</p>

<h3 id="1-북마크-미리보기-정보-얻어오기">1. 북마크 미리보기 정보 얻어오기</h3>

<p class="callout"> ❓ 1. 북마크에 나오는 정보는 어디서 가져올까?</p>

<p>북마크를 보면 사이트 제목, 설명, 링크, 이미지 등의 정보가 들어간다.</p>

<p>이 정보들은 어떻게 가져올까 고민해봤다. 크롤러를 만들었던 경험처럼 사이트를 긁어온 다음에 제일 먼저 나오는 <code class="language-plaintext highlighter-rouge">&lt;h1&gt;</code>태그를 긁어야 하나, <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code> 안 첫번째 글자를 읽어와야하나?</p>

<p>다행히, html의 <em>메타데이터</em>에 내가 찾던 정보들이 있었다. 메타데이터란 웹페이지를 구성하는 여러 정보들을 헤더에 따로 명시해 적어둔 것을 말한다.</p>

<p>메타데이터를 표기하는 방법중 하나로 페이스북에서 만든 <strong><em><a href="https://ogp.me/">오픈그래프 프로토콜</a></em></strong>이 있다. 이를 이용하면 쉽게 내가 원하던 정보들을 얻어올 수 있었다. 미리보기에 들어갈 제목, 설명, 링크, 이미지 등 말이다.</p>

<p><strong>더 알아보기</strong></p>

<ul>
  <li>오픈그래프가 무엇인가?</li>
  <li>메타데이터와 오픈그래프의 차이점은?</li>
</ul>

<p>참고<br />
<a href="http://insightpresso.com/sns-%EB%A5%BC-%EC%82%AC%EB%A1%9C%EC%9E%A1%EB%8A%94-%EB%A9%94%ED%83%80%ED%83%9C%EA%B7%B8%EC%99%80-%EC%98%A4%ED%94%88%EA%B7%B8%EB%9E%98%ED%94%84/">http://insightpresso.com/sns-를-사로잡는-메타태그와-오픈그래프/</a><br />
<a href="https://blog.ab180.co/posts/open-graph-as-a-website-preview">https://blog.ab180.co/posts/open-graph-as-a-website-preview</a></p>

<p><br />
<br /></p>

<h3 id="2-다른-페이지에-접근하여-데이터-가져오기">2. 다른 페이지에 접근하여 데이터 가져오기</h3>

<p class="callout"> ❓ 데이터를 다른 페이지에서 어떻게 가져와야 할까?</p>

<p>메타데이터를 이용하면 해당 사이트에 대한 핵심정보를 얻어올 수 있다고 했다. 자연스럽게 다음 질문이 이어졌다. “메타데이터는 어떻게 가져오지?”</p>

<p>보통 웹 사이트를 접근할때는 url을 이용한다. 그렇다면, 일단 url을 통해 사이트에 접근한 후 (혹은 요청을 보낸 후), 해당 페이지의 메타데이터를 가져와서 파싱하면 되겠구나! 라는 생각이 들었다.</p>

<p>이렇게 다른 페이지에 접근할 때 사용하는 API가 여러가지가 있다. 리소스를 비동기적으로 요청하는 메소드들이다. XMLHttpRequest, Fetch, jquery의 ajax 등 한번쯤은 들어봤던 이름들이다.</p>

<p>나는 fetch를 이용하기로 했다. 왜냐하면 github page는 내가 잘 모르는 언어로 만들어졌기때문에, 혹시라도 외부 라이브러리를 사용함으로(jqeury) 문제가 발생하면 해결하기 어려울 것 같기 때문이다.</p>

<p>참고<br />
<a href="https://medium.com/@kkak10/javascript-fetch-api-e26bfeaad9b6">https://medium.com/@kkak10/javascript-fetch-api-e26bfeaad9b6</a></p>

<p><br />
<br /></p>

<h3 id="3-fetch로-요청-보내고-받기">3. fetch로 요청 보내고 받기</h3>

<p class="callout"> ❓ fetch로 다른 페이지에 요청을 주고받는 방법 </p>

<p>ajax는 써보았지만 fetch는 잘 써보지 않았다. 간단히 fetch api 문서에서 예제를 가져와, 돌아가는지 확인해보았다.</p>

<p>web-bookmark.html</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://sunmon.github.io</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">myJson</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">myJson</span><span class="p">));</span>
  <span class="p">});</span>

</code></pre></div></div>

<p>실행결과</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="nx">인덱스</span><span class="p">):</span><span class="mi">1</span> <span class="nx">Uncaught</span> <span class="p">(</span><span class="k">in</span> <span class="nx">promise</span><span class="p">)</span> <span class="nx">SyntaxError</span><span class="p">:</span> <span class="nx">Unexpected</span> <span class="nx">token</span> <span class="o">&lt;</span> <span class="k">in</span> <span class="nx">JSON</span> <span class="nx">at</span> <span class="nx">position</span> <span class="mi">0</span>
</code></pre></div></div>

<p>Syntax 에러가 발생했다.</p>

<p>원인: response객체가 json이 아닌데 json으로 파싱하려고해서 나는 문제다.</p>

<p>해결방법: <a href="https://daveceddia.com/unexpected-token-in-json-at-position-0/">https://daveceddia.com/unexpected-token-in-json-at-position-0/</a></p>

<p>text로 바꿔 로그를 확인해보니 <code class="language-plaintext highlighter-rouge">&lt;!DOCTYPE html&gt;</code>로 응답이 시작하고 있었다.</p>

<p>json으로 파싱하기 쉽게끔, content-type을 application/json으로 바꿔서 보냈다. 혹시 content-type에 대해 잘못 알고 있나?</p>

<p><a href="https://gist.github.com/Sunmon/63ef458e7d5d6c80fec10e984a4dec8d">https://gist.github.com/Sunmon/63ef458e7d5d6c80fec10e984a4dec8d</a></p>

<p>그랬더니 이젠 CORS 에러가 난다.</p>

<p><img src="https://res.cloudinary.com/dtttkj2mc/image/upload/v1599399987/post/web/bookmark/cors_f7tr5t.png" alt="https://res.cloudinary.com/dtttkj2mc/image/upload/v1599399987/post/web/bookmark/cors_f7tr5t.png" /></p>

<p><strong>더 알아보기</strong></p>

<ul>
  <li>content-type이 무엇인가?</li>
  <li>json타입말고 html타입으로 받아와서 메타데이터를 파싱할 수 있는가?</li>
  <li>fetch와 ajax의 차이점은?</li>
  <li>fetch는 어떻게 동작하는가?</li>
  <li>http header파일과 fetch로 받아오는 response의 header는 동일한가?</li>
</ul>

<p>참고<br />
<a href="https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Fetch%EC%9D%98_%EC%82%AC%EC%9A%A9%EB%B2%95">https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Fetch의_사용법</a><br />
<a href="https://ko.javascript.info/fetch">https://ko.javascript.info/fetch</a></p>

<h3 id="4-cors">4. CORS</h3>

<p class="callout"> ❓ CORS에러가 뭐지? </p>

<p>fetch에서 content-type을 json으로 바꿨더니 CORS 에러가 났다.</p>

<p>CORS에러를 해결하는 방법 중 하나로는 JSONP가 있다고 한다.<br />
JSONP를 사용했다.</p>

<p><strong>더 알아보기</strong></p>

<ul>
  <li>CORS에러가 무엇인가?</li>
  <li>CORS의 해결방법은?</li>
  <li>CORB는 뭐지?</li>
  <li>same-origin, same-site가 무엇인가?</li>
</ul>

<p>참고<br />
<a href="https://evan-moon.github.io/2020/05/21/about-cors/">https://evan-moon.github.io/2020/05/21/about-cors/</a><br />
<a href="https://www.hahwul.com/2020/01/18/samesite-lax/">https://www.hahwul.com/2020/01/18/samesite-lax/</a></p>

<p><br />
<br /></p>

<h3 id="5-jsonp">5. JSONP</h3>

<p class="callout"> ❓ JSONP를 이용하여 CORS 우회 </p>

<p>ajax없이 순수 자바스크립트로 jsonp를 이용하려고 한다.<br />
응답을 script로 보내고 받는것을 jsonp라고 하는 듯 하다.</p>

<p><strong>더 알아보기</strong></p>

<ul>
  <li>jsonp가 무엇인가?</li>
  <li>ajax와 jsonp는 무엇이 다른가?</li>
  <li>왜 jsonp를 이용하면 cors를 우회할 수 있는가?</li>
</ul>

<p>참고<br />
<a href="https://kingbbode.tistory.com/26">https://kingbbode.tistory.com/26</a></p>

<p><br />
<br /></p>

<h3 id="6-webpack">6. webpack</h3>

<p>결국 jsonp를 순수한 자바스크립트로 사용하지 못했다.<br />
원인이 무엇인지는 알 수 없지만 여러시간 삽질한 결과 대신 라이브러리를 찾아냈다. <em>fetch-jsonp</em>라이브러리다.</p>

<p>사용하려고 하는데… refer에러가 떴다. 무슨 변수인지 알수가 없다는 말이었다. 원인을 찾아보니 npm module은 node에서 사용하는 것이라고 한다.<br />
브라우저에서는 일반적으로 사용할 수 없단다!<br />
노드 모듈을 브라우저에서도 사용하려면 웹팩이나 Browserify를 사용해야 한다.</p>

<p>참고<br />
<a href="https://github.com/camsong/fetch-jsonp">https://github.com/camsong/fetch-jsonp</a><br />
<a href="https://stackoverflow.com/questions/49562978/how-to-use-npm-modules-in-browser-is-possible-to-use-them-even-in-local-pc">https://stackoverflow.com/questions/49562978/how-to-use-npm-modules-in-browser-is-possible-to-use-them-even-in-local-pc</a></p>


                <!-- Pagination links -->


            </article>

            

            <!-- side toc -->
            
            <aside class="side-toc">
                <h2></h2>
                <!-- Add your table of contents here -->

<ul id="my_toc" class="inline_toc">
  <li class="toc_item"><a href="#jekyll에서-parameter-넘기기">Jekyll에서 parameter 넘기기</a></li>
  <li class="toc_item"><a href="#북마크-만들기">북마크 만들기</a>
    <ul>
      <li class="toc_item"><a href="#1-북마크-미리보기-정보-얻어오기">1. 북마크 미리보기 정보 얻어오기</a></li>
      <li class="toc_item"><a href="#2-다른-페이지에-접근하여-데이터-가져오기">2. 다른 페이지에 접근하여 데이터 가져오기</a></li>
      <li class="toc_item"><a href="#3-fetch로-요청-보내고-받기">3. fetch로 요청 보내고 받기</a></li>
      <li class="toc_item"><a href="#4-cors">4. CORS</a></li>
      <li class="toc_item"><a href="#5-jsonp">5. JSONP</a></li>
      <li class="toc_item"><a href="#6-webpack">6. webpack</a></li>
    </ul>
  </li>
</ul>

<svg class="toc-marker" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
    <path stroke="#444" stroke-width="3" fill="transparent" stroke-dasharray="0, 0, 0, 1000" stroke-linecap="round" stroke-linejoin="round" transform="translate(-0.5, -0.5)" />
</svg>



<script>
    window.onload = function() {

// var toc = document.querySelector( '.toc' );
var toc = document.querySelector( '.inline_toc' );
if(toc===null) return;

var tocPath = document.querySelector( '.toc-marker path' );
var tocItems;

// Factor of screen size that the element must cross
// before it's considered visible
var TOP_MARGIN = 0.1,
    BOTTOM_MARGIN = 0.2;

var pathLength;

var lastPathStart,
    lastPathEnd;

window.addEventListener( 'resize', drawPath, false );
window.addEventListener( 'scroll', sync, false );

drawPath();

function drawPath() {

    tocItems = [].slice.call( toc.querySelectorAll( 'li' ) );

    // Cache element references and measurements
    tocItems = tocItems.map( function( item ) {
        var anchor = item.querySelector( 'a' );
        var target = document.getElementById( anchor.getAttribute( 'href' ).slice( 1 ) );

        return {
            listItem: item,
            anchor: anchor,
            target: target
        };
    } );

    // Remove missing targets
    tocItems = tocItems.filter( function( item ) {
        return !!item.target;
    } );

    var path = [];
    var pathIndent;

    tocItems.forEach( function( item, i ) {

        var x = item.anchor.offsetLeft - 5,
            y = item.anchor.offsetTop,
            height = item.anchor.offsetHeight;

        if( i === 0 ) {
            path.push( 'M', x, y, 'L', x, y + height );
            item.pathStart = 0;
        }
        else {
            // Draw an additional line when there's a change in
            // indent levels
            if( pathIndent !== x ) path.push( 'L', pathIndent, y );

            path.push( 'L', x, y );

            // Set the current path so that we can measure it
            tocPath.setAttribute( 'd', path.join( ' ' ) );
            item.pathStart = tocPath.getTotalLength() || 0;

            path.push( 'L', x, y + height );
        }

        pathIndent = x;

        tocPath.setAttribute( 'd', path.join( ' ' ) );
        item.pathEnd = tocPath.getTotalLength();

    } );

    pathLength = tocPath.getTotalLength();

    sync();

}

function sync() {

    var windowHeight = window.innerHeight;

    var pathStart = pathLength,
        pathEnd = 0;

    var visibleItems = 0;

    tocItems.forEach( function( item ) {

        var targetBounds = item.target.getBoundingClientRect();

        if( targetBounds.bottom > windowHeight * TOP_MARGIN && targetBounds.top < windowHeight * ( 1 - BOTTOM_MARGIN ) ) {
            pathStart = Math.min( item.pathStart, pathStart );
            pathEnd = Math.max( item.pathEnd, pathEnd );

            visibleItems += 1;

            item.listItem.classList.add( 'visible' );
        }
        else {
            item.listItem.classList.remove( 'visible' );
        }

    } );

    // Specify the visible path or hide the path altogether
    // if there are no visible items
    if( visibleItems > 0 && pathStart < pathEnd ) {
        if( pathStart !== lastPathStart || pathEnd !== lastPathEnd ) {
            tocPath.setAttribute( 'stroke-dashoffset', '1' );
            tocPath.setAttribute( 'stroke-dasharray', '1, '+ pathStart +', '+ ( pathEnd - pathStart ) +', ' + pathLength );
            tocPath.setAttribute( 'opacity', 1 );
        }
    }
    else {
        tocPath.setAttribute( 'opacity', 0 );
    }

    lastPathStart = pathStart;
    lastPathEnd = pathEnd;

}

};
</script>
            </aside>
            

        </section>

        <!-- Add time bar only for pages without pagination -->
        
            <div class="time-bar" data-minutes="4">
    <span class="time-completed"></span>
    <span class="time-remaining"></span>
    <div class="bar">
        <span class="completed" style="width:0%;"></span>
        <span class="remaining" style="width:100%;"></span>
    </div>
</div>

            <div class="recommendation">
    <div class="message">
        <strong>이 글은 어떠세요?</strong>
        <div>
            <button>
                <svg><use xlink:href="#icon-arrow-right"></use></svg>
                <span>위로 가기</span>
            </button>
        </div>
    </div>
    
    <a href="/2020-09-07-TIL/" class="post-preview">
        <div class="image">
            
                <img src="/assets/img/default_imgs/thumb/til.jpg">
            
        </div>
        <h3 class="title">2020-09-07 TIL</h3>
    </a>
</div>

        

        <!-- Show modal if the post is the last one -->
        

        <!-- Show modal before user leaves the page -->
        

        <!-- Add your newsletter subscription form here -->

        <section class="share">
    <h3>공유하기</h3>
    <a aria-label="트위터에 공유하기" href="https://twitter.com/intent/tweet?text=&quot;jekyll blog에서 web bookmark를 만들면서 고민한 과정&quot;%20http://localhost:4000/2020-09-06-TIL/%20via%20&#64;&hashtags=Javascript,jekyll,web bookmark,fetch,CORS,"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="트위터에 공유하기">
        <svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg>
    </a>
    <a aria-label="페이스북에 공유하기" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2020-09-06-TIL/"
    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="페이스북에 공유하기">
        <svg class="icon icon-facebook"><use xlink:href="#icon-facebook"></use></svg>
    </a>
</section>

        


        

<section class="comments">
    <h3>댓글</h3>
    <div id="disqus_thread"></div>
</section>
<script type="text/javascript">
    var disqus_loaded = false;

    function load_disqus()
    {
        disqus_loaded = true;
        var disqus_shortname = 'codesik-github-io-1';
        var disqus_title = '';
        var disqus_url = '/2020-09-06-TIL/';
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        var ldr = document.getElementById('disqus_loader');
    };
    window.onscroll = function(e) {
        if ((window.innerHeight + window.scrollY) >= (document.body.offsetHeight - 800)) {
            //hit bottom of page
            if (disqus_loaded==false)
                load_disqus()
        }
    };
</script>



        <footer>
  <p>
    
      <a href="https://github.com/codesik" title="Github">
        <svg><use xlink:href="#icon-github"></use></svg>
      </a>
    
    
      <a href="https://www.facebook.com/서건식" title="Facebook">
        <svg><use xlink:href="#icon-facebook"></use></svg>
      </a>
    
    
    
    
      <a href="https://www.instagram.com/sik_gn" title="Instagram">
        <svg><use xlink:href="#icon-instagram"></use></svg>
      </a>
    
    
    
  </p>

  <ul>
  
    
      <li>
        <a href="http://localhost:4000/">Home</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/about">About</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/category">Category</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/tags">Tags</a>
      </li>
    
  
    
      <li>
        <a href="http://localhost:4000/contact">Contact</a>
      </li>
    
  
</ul>


</footer>










<script type="application/ld+json">
{
"@context": "http://schema.org",
"@type": "Organization",
"name": "CodeSik의 개발 공방",
"description": "Tech Blog Web, Server, Computer Science",
"url": "http://localhost:4000/",
"logo": {
    "@type": "ImageObject",
    "url": "http://localhost:4000/assets/img/icons/mediumtile.png",
    "width": "600",
    "height": "315"
},
"sameAs": [
  "https://github.com/codesik","https://www.facebook.com/서건식","https://www.instagram.com/sik_gn"
]
}
</script>

<!-- Include the script that allows Netlify CMS login -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<!-- Include the website scripts -->
<script src="/assets/js/scripts.min.js"></script>

<!-- Include Google Analytics script -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-191544283-1"></script>
<script>
  var host = window.location.hostname;
  if (host != 'localhost') {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-191544283-1');
  }
</script>
  


    <!-- Include extra scripts -->



        

        
        
        
        
        
        
        
        
        
        <script>
            MathJax = {
                tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
                }
            };
        </script>
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
        </script>
        
        <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "BlogPosting",
            "name": "2020-09-06 TIL",
            "headline": "Web bookmark 개발 개요",
            "description": "jekyll blog에서 web bookmark를 만들면서 고민한 과정",
            "image": "",
            "url": "http://localhost:4000/2020-09-06-TIL/",
            "articleBody": "오늘은 웹 북마크를 만든다고 시간을 많이 보냈다.
오늘 한 고민과 질문들을 적어보았다.


    💡 web bookmark를 만들면서 한 고민 
    - jekyll에서 include의 parameter를 어떻게 넘기지?
    - web bookmark의 내용은 어디서 가져오는가?
    - url 링크에 있는 metadata는 어떻게 가져올까?
    - fetch api를 사용하는 방법은?
    - CORS 에러
    - JSONP를 이용하여 CORS 우회
    - Webpack


질문이 꼬리에 꼬리를 물고 나왔다. 진행하며 나온 질문들을 순차적으로 하나씩 적어보았다.

Jekyll에서 parameter 넘기기

web bookmark용 html을 새로 작성했다. 웹 북마크가 필요할때마다 해당 html을 include하여 사용할 것이다.

파라미터 my_url로 https://example.com을 넘겨주기 - til.md

{% include web-bookmark.html my_url='https://example.com' %} 



입력받은 인자 사용 - web-bookmark.html

&amp;lt;!-- 북마크 템플릿 파일 --&amp;gt;
{{ include.my_url }}



참고 
https://stackoverflow.com/questions/21976330/passing-parameters-to-inclusion-in-liquid-templates
https://blog.ab180.co/posts/open-graph-as-a-website-preview

북마크 만들기



티스토리나 노션에 있는 북마크 기능을 만들려고 한다. 아래 사진같은 기능이다. 깃허브 블로그에 이 기능을 구현하려고 한다.

티스토리 북마크


노션 북마크


링크 제목, 설명, url, 이미지 등의 정보를 얻어와 보기 좋게 카드형태로 만들어주는 기능이다.

1. 북마크 미리보기 정보 얻어오기

 ❓ 1. 북마크에 나오는 정보는 어디서 가져올까?

북마크를 보면 사이트 제목, 설명, 링크, 이미지 등의 정보가 들어간다.

이 정보들은 어떻게 가져올까 고민해봤다. 크롤러를 만들었던 경험처럼 사이트를 긁어온 다음에 제일 먼저 나오는 &amp;lt;h1&amp;gt;태그를 긁어야 하나, &amp;lt;body&amp;gt; 안 첫번째 글자를 읽어와야하나?

다행히, html의 메타데이터에 내가 찾던 정보들이 있었다. 메타데이터란 웹페이지를 구성하는 여러 정보들을 헤더에 따로 명시해 적어둔 것을 말한다.

메타데이터를 표기하는 방법중 하나로 페이스북에서 만든 오픈그래프 프로토콜이 있다. 이를 이용하면 쉽게 내가 원하던 정보들을 얻어올 수 있었다. 미리보기에 들어갈 제목, 설명, 링크, 이미지 등 말이다.

더 알아보기


  오픈그래프가 무엇인가?
  메타데이터와 오픈그래프의 차이점은?


참고
http://insightpresso.com/sns-를-사로잡는-메타태그와-오픈그래프/
https://blog.ab180.co/posts/open-graph-as-a-website-preview




2. 다른 페이지에 접근하여 데이터 가져오기

 ❓ 데이터를 다른 페이지에서 어떻게 가져와야 할까?

메타데이터를 이용하면 해당 사이트에 대한 핵심정보를 얻어올 수 있다고 했다. 자연스럽게 다음 질문이 이어졌다. “메타데이터는 어떻게 가져오지?”

보통 웹 사이트를 접근할때는 url을 이용한다. 그렇다면, 일단 url을 통해 사이트에 접근한 후 (혹은 요청을 보낸 후), 해당 페이지의 메타데이터를 가져와서 파싱하면 되겠구나! 라는 생각이 들었다.

이렇게 다른 페이지에 접근할 때 사용하는 API가 여러가지가 있다. 리소스를 비동기적으로 요청하는 메소드들이다. XMLHttpRequest, Fetch, jquery의 ajax 등 한번쯤은 들어봤던 이름들이다.

나는 fetch를 이용하기로 했다. 왜냐하면 github page는 내가 잘 모르는 언어로 만들어졌기때문에, 혹시라도 외부 라이브러리를 사용함으로(jqeury) 문제가 발생하면 해결하기 어려울 것 같기 때문이다.

참고
https://medium.com/@kkak10/javascript-fetch-api-e26bfeaad9b6




3. fetch로 요청 보내고 받기

 ❓ fetch로 다른 페이지에 요청을 주고받는 방법 

ajax는 써보았지만 fetch는 잘 써보지 않았다. 간단히 fetch api 문서에서 예제를 가져와, 돌아가는지 확인해보았다.

web-bookmark.html


fetch('http://sunmon.github.io')
  .then(function(response) {
    return response.json();
  })
  .then(function(myJson) {
    console.log(JSON.stringify(myJson));
  });



실행결과

(인덱스):1 Uncaught (in promise) SyntaxError: Unexpected token &amp;lt; in JSON at position 0


Syntax 에러가 발생했다.

원인: response객체가 json이 아닌데 json으로 파싱하려고해서 나는 문제다.

해결방법: https://daveceddia.com/unexpected-token-in-json-at-position-0/

text로 바꿔 로그를 확인해보니 &amp;lt;!DOCTYPE html&amp;gt;로 응답이 시작하고 있었다.

json으로 파싱하기 쉽게끔, content-type을 application/json으로 바꿔서 보냈다. 혹시 content-type에 대해 잘못 알고 있나?

https://gist.github.com/Sunmon/63ef458e7d5d6c80fec10e984a4dec8d

그랬더니 이젠 CORS 에러가 난다.



더 알아보기


  content-type이 무엇인가?
  json타입말고 html타입으로 받아와서 메타데이터를 파싱할 수 있는가?
  fetch와 ajax의 차이점은?
  fetch는 어떻게 동작하는가?
  http header파일과 fetch로 받아오는 response의 header는 동일한가?


참고
https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Fetch의_사용법
https://ko.javascript.info/fetch

4. CORS

 ❓ CORS에러가 뭐지? 

fetch에서 content-type을 json으로 바꿨더니 CORS 에러가 났다.

CORS에러를 해결하는 방법 중 하나로는 JSONP가 있다고 한다.
JSONP를 사용했다.

더 알아보기


  CORS에러가 무엇인가?
  CORS의 해결방법은?
  CORB는 뭐지?
  same-origin, same-site가 무엇인가?


참고
https://evan-moon.github.io/2020/05/21/about-cors/
https://www.hahwul.com/2020/01/18/samesite-lax/




5. JSONP

 ❓ JSONP를 이용하여 CORS 우회 

ajax없이 순수 자바스크립트로 jsonp를 이용하려고 한다.
응답을 script로 보내고 받는것을 jsonp라고 하는 듯 하다.

더 알아보기


  jsonp가 무엇인가?
  ajax와 jsonp는 무엇이 다른가?
  왜 jsonp를 이용하면 cors를 우회할 수 있는가?


참고
https://kingbbode.tistory.com/26




6. webpack

결국 jsonp를 순수한 자바스크립트로 사용하지 못했다.
원인이 무엇인지는 알 수 없지만 여러시간 삽질한 결과 대신 라이브러리를 찾아냈다. fetch-jsonp라이브러리다.

사용하려고 하는데… refer에러가 떴다. 무슨 변수인지 알수가 없다는 말이었다. 원인을 찾아보니 npm module은 node에서 사용하는 것이라고 한다.
브라우저에서는 일반적으로 사용할 수 없단다!
노드 모듈을 브라우저에서도 사용하려면 웹팩이나 Browserify를 사용해야 한다.

참고
https://github.com/camsong/fetch-jsonp
https://stackoverflow.com/questions/49562978/how-to-use-npm-modules-in-browser-is-possible-to-use-them-even-in-local-pc
",
            "wordcount": "803",
            "inLanguage": "ko",
            "dateCreated": "2020-09-06/",
            "datePublished": "2020-09-06/",
            "dateModified": "2020-09-06/",
            "author": {
                "@type": "Person",
                "name": "Kim Sun Jeong",
                
                "image": "/assets/img/uploads/profile.png",
                
                "jobTitle": "Frontend Developer",
                "url": "http://localhost:4000/authors/sunmon/",
                "sameAs": [
                    "https://github.com/sunmon","https://www.linkedin.com/in/sunmon","https://conservative-vector.tistory.com/"
                ]
            },
            "publisher": {
                "@type": "Organization",
                "name": "CodeSik의 개발 공방",
                "url": "http://localhost:4000/",
                "logo": {
                    "@type": "ImageObject",
                    "url": "http://localhost:4000/assets/img/blog-image.png",
                    "width": "600",
                    "height": "315"
                }
            },
            "mainEntityOfPage": "True",
            "genre": "TIL",
            "articleSection": "TIL",
            "keywords": ["Javascript","jekyll","web bookmark","fetch","CORS"]
        }
        </script>
    </body>
</html>
