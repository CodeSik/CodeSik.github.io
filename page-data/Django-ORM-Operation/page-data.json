{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Django-ORM-Operation/",
    "result": {"data":{"cur":{"id":"12761824-c9f5-54c3-8757-07eebc3a96c3","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABBElEQVQoz2P4jwT+/fsHp//+/YvCh7EJAQZchsHAnz9//v/5+xcsBsJ//iL42CxjwOZCEHj++tX/T18+43UNNlejuBCmYM/JI/8zW2v+bz287/+1e7f/n7566f+561f+33n88P/h86f/n7x84f/9p4/xuxDmhbuPH/73L0j9n9hQ+j+9ueq/S3r0f9+ClP/RVQX/Y2uKwHIBhWn/yyd2wvVhNRAm+OPnz/97Th793zx78v+uBTP/bzuy///BMyfALizpa/uf19UIlj915SLEQGLD8N3HD/9//vqFEj4nLp2De5WoMITRoJhFjuW/SLEKAr+hYkTFMkwS2SswcXzJBauB1AAASn341nwsOmUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"썸네일\"\n        title=\"썸네일\"\n        src=\"/static/5f3366eed67a305e1a7a81e79a1f7483/8c557/django.png\"\n        srcset=\"/static/5f3366eed67a305e1a7a81e79a1f7483/e9ff0/django.png 180w,\n/static/5f3366eed67a305e1a7a81e79a1f7483/f21e7/django.png 360w,\n/static/5f3366eed67a305e1a7a81e79a1f7483/8c557/django.png 700w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"callout\"> 💡[Django] Django의 ORM</p>\n<hr>\n<h3 id=\"operation\" style=\"position:relative;\"><a href=\"#operation\" aria-label=\"operation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Operation</h3>\n<p>처음 언급한 것 처럼 ORM의 함수를 통해서 어떻게 데이터들을 조작할 수 있는지 살펴보겠습니다.</p>\n<p><a href=\"https://django-orm-cookbook-ko.readthedocs.io/en/latest/index.html\">Django CookBook</a>\n여기서 기본적인 CRUD 문법을 확인하실 수 있습니다.</p>\n<blockquote>\n<p><strong>Select</strong></p>\n</blockquote>\n<p>특별한 설명없이 자주 쓰이는 함수들을 소개드리고, 주의할 점 몇가지를 말씀드리겠습니다.</p>\n<p>먼저 객체를 통해 데이터를 가져오는 연산들 입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Select * from person</span>\npersons <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Select * from person where id = 1</span>\nperson <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>여기서 기본적으로 전체를 가져오거나, filter 함수를 통해 Where Caluse를 사용해 조건을 걸어줄 수 있습니다.\n중요한 점은 위 두 연산 모두 실제 객체를 가져오는 것이 아닌, <code class=\"language-text\">Query Set</code>만을 반환하기 때문에 위 변수로는 접근이 바로 안됩니다.</p>\n<p>따라서 실제 객체에 접근하기 위해서는</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">person <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"Codesik\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\nperson <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>이런식으로 하게 되면 실제 객체에 접근할 수 있게 됩니다. first는 쿼리셋 내에서 가장 첫번째의 값을 참조하는 함수입니다.</p>\n<p>제가 이렇게 쿼리셋 / 실제 객체 접근을 구분한 이유는, DB 접근 횟수를 줄임으로써 성능에 이점을 줄 수 있기 때문입니다.</p>\n<p>예를 들어 Codesik 이라는 이름을 가진 사람의 <code class=\"language-text\">숫자</code>만을 세고싶은데, get()이나 first()로 접근하는 것 보다는</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">person_number <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"Codesik\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>로 숫자만 반환하는 것이 성능상의 이점이 더 있습니다.</p>\n<p>또 팁하나를 드리자면</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">person_list <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"Codesik\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> person <span class=\"token keyword\">in</span> person_list<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">pass</span>\n</code></pre></div>\n<p>이런식으로 반복문을 돌게되면 person은 쿼리셋이 아닌 객체로 참조되게 됩니다.</p>\n<p><img src=\"https://i.imgur.com/7WZI4mr.png\" alt=\"1_hgO-53N6ReTT99l4IygmiA\"></p>\n<p>(작성중)</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#operation\">Operation</a></li>\n</ul>\n</div>","excerpt":"Operation 처음 언급한 것 처럼 ORM의 함수를 통해서 어떻게 데이터들을 조작할 수 있는지 살펴보겠습니다. Django CookBook\n여기서 기본적인 CRUD 문법을 확인하실 수 있습니다. Select 특별한 설명없이 자주 쓰이는 함수들을 소개드리고, 주의할 점 몇가지를 말씀드리겠습니다. 먼저 객체를 통해 데이터를 가져오는 연산들 입니다. 여기서 기본적으로 전체를 가져오거나, filter 함수를 통해 Where Caluse를 사용해 조건을 걸어줄 수 있습니다.\n중요한 점은 위 두 연산 모두 실제 객체를 가져오는 것이 아닌, 만을 반환하기 때문에 위 변수로는 접근이 바로 안됩니다. 따라서 실제 객체에 접근하기 위해서는 이런식으로 하게 되면 실제 객체에 접근할 수 있게 됩니다. first는 쿼리셋 내에서 가장 첫번째의 값을 참조하는 함수입니다. 제가 이렇게 쿼리셋 / 실제 객체 접근을 구분한 이유는, DB 접근 횟수를 줄임으로써 성능에 이점을 줄 수 있기 때문입니다. 예를 들…","frontmatter":{"date":"August 10, 2021","title":"Django(장고) ORM 정리 - 데이터를 조작하는 방법","categories":"Framework","author":"CodeSik","emoji":"🧢"},"fields":{"slug":"/Django-ORM-Operation/"}},"next":{"id":"06d74af0-5565-5dfa-84db-ce0b187213bf","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABBElEQVQoz2P4jwT+/fsHp//+/YvCh7EJAQZchsHAnz9//v/5+xcsBsJ//iL42CxjwOZCEHj++tX/T18+43UNNlejuBCmYM/JI/8zW2v+bz287/+1e7f/n7566f+561f+33n88P/h86f/n7x84f/9p4/xuxDmhbuPH/73L0j9n9hQ+j+9ueq/S3r0f9+ClP/RVQX/Y2uKwHIBhWn/yyd2wvVhNRAm+OPnz/97Th793zx78v+uBTP/bzuy///BMyfALizpa/uf19UIlj915SLEQGLD8N3HD/9//vqFEj4nLp2De5WoMITRoJhFjuW/SLEKAr+hYkTFMkwS2SswcXzJBauB1AAASn341nwsOmUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"썸네일\"\n        title=\"썸네일\"\n        src=\"/static/5f3366eed67a305e1a7a81e79a1f7483/8c557/django.png\"\n        srcset=\"/static/5f3366eed67a305e1a7a81e79a1f7483/e9ff0/django.png 180w,\n/static/5f3366eed67a305e1a7a81e79a1f7483/f21e7/django.png 360w,\n/static/5f3366eed67a305e1a7a81e79a1f7483/8c557/django.png 700w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"callout\"> 💡[Django] Django의 ORM</p>\n<h2 id=\"ormobject-relational-mapping\" style=\"position:relative;\"><a href=\"#ormobject-relational-mapping\" aria-label=\"ormobject relational mapping permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ORM(Object Relational Mapping)</h2>\n<hr>\n<p>먼저 <code class=\"language-text\">ORM</code>이 뭘까요? 이름에서 알 수 있듯 간단히 말하면 <code class=\"language-text\">객체</code>와, <code class=\"language-text\">관계형 데이터베이스</code>를 <code class=\"language-text\">Mapping</code> 시켜주는 역할을 하는 녀석입니다.</p>\n<p><code class=\"language-text\">객체</code> &#x3C;- 매핑(ORM) -> <code class=\"language-text\">데이터베이스 데이터</code></p>\n<p>로직을 구성하면서 CRUD를 위해 SQL을 작성할 필요 없이, 객체를 정의하고 ORM이 제공하는 Method를 사용하여 데이터베이스에 적재된 데이터를 쉽게 접근할 수 있도록 하는 것입니다. 이 과정에서 자동으로 SQL을 생성하면서 매핑이 되는 것 입니다! (편하죠?)</p>\n<p>텍스트로만 보셨을 땐 이해가 잘 안되실 수도 있는데요, 코드를 보면 쉽게 이해하실 수 있으실 겁니다.</p>\n<p>만약 ORM이 없으면 DB에 접근하는 비즈니스 로직마다 SQL을 작성해서 접근해야 하고, 이렇게 되면 비즈니스 로직이 너무 복잡해지고 간결성이 줄어듭니다. 또 팀 내에서 코드를 서로 이해하는데에도 큰 리소스가 듭니다.</p>\n<p>저도 회사에서 Django 기반으로 서버가 구성되어 있어 ORM을 사용해 백엔드 로직을 작성하고 있는데, 너무 편합니다.</p>\n<p>하지만 이런 ORM도 만능은 아닙니다. 오히려 복잡한 비즈니스 로직을 작성할 땐 성능을 저하시킬 수도 있기 때문에 설계를 잘하는 것이 매우 중요합니다.</p>\n<p>일단 먼저 장단점부터 알아볼까요?\n<br></p>\n<h3 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장점</h3>\n<hr>\n<blockquote>\n<p><strong>편하고 직관적이어서 비즈니스 로직에 더욱 집중할 수 있다.</strong></p>\n</blockquote>\n<ul>\n<li>SQL문으로 데이터베이스에 접근하는 것이 아니라 클래스의 객체로 데이터를 조작하는 것이기 때문에 더 <code class=\"language-text\">객체지향적</code> 입니다.</li>\n<li>좀 더 직관적이고, 비즈니스 로직에 더 집중할 수 있도록 해줍니다. 이로인해 생산성이 증가합니다.</li>\n</ul>\n<blockquote>\n<p><strong>재사용이 편하고 유지보수가 용이하다.</strong></p>\n</blockquote>\n<ul>\n<li>각 객체를 한번 생성하면, 그 객체를 활용해 객체 안의 다양한 필드 값을 편하게 가져올 수 있어 재사용이 편리합니다.</li>\n<li>또한 자주 사용하는 Query Set을 모델내에 정의하면 재사용이 편리합니다.</li>\n</ul>\n<blockquote>\n<p><strong>DBMS에 종속적이지 않다.</strong></p>\n</blockquote>\n<ul>\n<li>매핑이 직관적이고, 잘 시켜놓으면 Native Query 없이 객체 메소드를 활용해 CRUD가 가능합니다.</li>\n<li>데이터에 대한 가공 또한 파이썬, 혹은 자바의 기능을 이용함으로써 간결하게 가능합니다.</li>\n</ul>\n<h3 id=\"단점\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%A0%90\" aria-label=\"단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단점</h3>\n<hr>\n<blockquote>\n<p><strong>ORM 만으로 서비스를 구축하는 것은 어렵다.</strong></p>\n</blockquote>\n<ul>\n<li>서비스의 복잡성이 커질수록 설계를 매우 신중히 해야하며, 잘못 구현된 경우 SQL문이 비효율적으로 생성되어 성능을 저하시킬 우려가 있습니다.</li>\n<li>복잡한 쿼리를 생성하는 것이 어려울 수 있습니다.</li>\n<li>성능이 최적화된 쿼리 보다는 ORM에 최적화된 쿼리를 생성하기 때문에, 개발 중간에 성능을 저하시킬 수 있는 부분은 <code class=\"language-text\">row query</code>를 꼭 확인해서 어떻게 쿼리가 생성되는지 확인할 필요가 있습니다.</li>\n</ul>\n<br>\n### ORM의 종류\n---\nORM을 제공하는 Framework는 여러가지가 있는데, 대표적으로는 다음과 같습니다.\n<ul>\n<li>Sequelize (Node.js)</li>\n<li>JPA/Hibernate (Java)</li>\n<li>Django ORM (Django 자체 제공)</li>\n</ul>\n<h2 id=\"django의-orm\" style=\"position:relative;\"><a href=\"#django%EC%9D%98-orm\" aria-label=\"django의 orm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Django의 ORM</h2>\n<p>저는 이번 포스팅에서는, <code class=\"language-text\">Django</code>에서 자체적으로 제공하는 ORM에 대해서 소개드리려고 합니다.\n먼저 위에서 <code class=\"language-text\">객체</code>와 데이터베이스를 이어주는 역할을 한다고 했었기 때문에, 가장 먼저 필요한건 모델(객체)를 정의하는 것입니다.</p>\n<h3 id=\"모델\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8D%B8\" aria-label=\"모델 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>모델</h3>\n<p>Django의 모델은 데이터베이스에 매핑되는 객체입니다.\n보통 하나의 모델은 하나의 테이블에 Mapping 되고, 클래스내의 Attribute 들은 테이블내의 필드를 나타냅니다.\n가장 기본적인 예를 하나 들어볼게요.</p>\n<p>person app을 하나 추가하고, setting.py에 어플케이션을 등록한 후 model 디렉토리 내에 model을 정의해볼게요.</p>\n<p><code class=\"language-text\">person.py</code></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> models\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">People</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>\n        verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'이름'</span><span class=\"token punctuation\">,</span> max_length<span class=\"token operator\">=</span><span class=\"token number\">126</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">False</span>\n    <span class=\"token punctuation\">)</span>\n    birth_date <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>\n        verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'생년월일'</span>\n    <span class=\"token punctuation\">)</span>\n    wallet <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>ForeignKey<span class=\"token punctuation\">(</span>\n        verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'지갑'</span><span class=\"token punctuation\">,</span> related_name<span class=\"token operator\">=</span><span class=\"token string\">'wallet'</span><span class=\"token punctuation\">,</span>\n        to<span class=\"token operator\">=</span><span class=\"token string\">'person.Wallet'</span><span class=\"token punctuation\">,</span> on_delete<span class=\"token operator\">=</span>models<span class=\"token punctuation\">.</span>CASCADE<span class=\"token punctuation\">,</span> db_constraint<span class=\"token operator\">=</span><span class=\"token boolean\">False</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">wallet.py</code></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> models\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Wallet</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    amount <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>IntegerField<span class=\"token punctuation\">(</span>\n        verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'잔액'</span><span class=\"token punctuation\">,</span> default<span class=\"token operator\">=</span><span class=\"token number\">0</span>\n    <span class=\"token punctuation\">)</span></code></pre></div>\n<p>위 코드는 Person(사람)과 Wallet(지갑)이 1대다 관계로 매핑되어 있는 것을 나타냅니다.<br>\n각 필드를 설정할 때마다 필드가 어떤 <code class=\"language-text\">Type</code>인지, 그리고 <code class=\"language-text\">ForeignKey</code>관계를 설정할 시 여러 옵션들을 줄 수도 있습니다.</p>\n<p>먼저 어떤 테이블을 참조할지는 <code class=\"language-text\">to</code>에 지정해주면 되는데 보통 <code class=\"language-text\">app_name.Model_name</code> 으로 설정합니다. 안그러면 Circular import Error가 발생합니다.</p>\n<p>위에서 설정한 <code class=\"language-text\">on_delete=models.CASCADE</code> 옵션은 삭제옵션으로, 해당 모델이 삭제 될 때 참조된 테이블의 열또한 함께 삭제하겠다는 설정이고, 다른설정들도 있습니다. (예를들어 DO_NOTHING으로 설정하면 참조 테이블의 열의 데이터를 삭제하지 않습니다. 무결성이 깨지기 때문에 잘 쓰진 않습니다.)</p>\n<p>db_constraint는 안적으면 기본적으로 <code class=\"language-text\">True</code>가 default 값이고, <code class=\"language-text\">False</code>로 주게되면 데이터베이스 내에서 참조 무결성을 체크하지 않습니다. 이렇게 하면 <code class=\"language-text\">DoesNotExists</code> Exception이 코드내에서 발생할 가능성이 있습니다. (참조 실패)</p>\n<p>위 옵션도 잘 쓰지는 않는데, ForeignKey 사용으로 인한 성능 저하를 막기 위해 무결성을 포기하더라도 Index 작업을 통해 성능을 올리기 위해 사용하는 경우도 있습니다. 다만 참조무결성이 훼손되니 Error Handling을 잘해줘야겠죠.</p>\n<p>어쨌든 Model의 정의에 대한 더 다양한 옵션이나 방법들은 구글링을 통해 알아보시면 될 것 같습니다.</p>\n<p>이렇게 모델을 정의를 했다면, 데이터베이스에 해당 변경사항을 알려주고 반영해야 합니다.\n이 과정을 <code class=\"language-text\">Migration</code> 이라고 합니다.</p>\n<h3 id=\"migration\" style=\"position:relative;\"><a href=\"#migration\" aria-label=\"migration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Migration</h3>\n<p>Migration 이란 모델의 변경, 수정사항을 데이터베이스 스키마에 반영하는 과정이라고 쉽게 이해하시면 됩니다.\n또한 이런 수정내역 또한 migration 폴더 내에 app 마다 존재합니다. <code class=\"language-text\">Git</code>처럼 데이터베이스를 버전별로 관리할 수 있다는 장점도 가지고 있습니다.</p>\n<p>Migration을 하는 방법은 manage.py의 command를 통해서 이뤄집니다.</p>\n<p>제일 먼저 model을 정의했으니, migration 파일을 생성합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">python manage.py makemigrations person<span class=\"token punctuation\">(</span>app_name<span class=\"token punctuation\">)</span></code></pre></div>\n<p>뒤에 app_name을 안넣으면 전체 app에 대하여 migration을 수행합니다.</p>\n<p><img src=\"https://i.imgur.com/BIJtVEY.png\" alt=\"스크린샷 2021-08-10 오전 2.13.12\"></p>\n<p>app 내의 migration 폴더를 확인하면 이런식으로 생성된 걸 확인할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Migration</span><span class=\"token punctuation\">(</span>migrations<span class=\"token punctuation\">.</span>Migration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    initial <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n\n    dependencies <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">]</span>\n\n    operations <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n        migrations<span class=\"token punctuation\">.</span>CreateModel<span class=\"token punctuation\">(</span>\n            name<span class=\"token operator\">=</span><span class=\"token string\">'Wallet'</span><span class=\"token punctuation\">,</span>\n            fields<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>BigAutoField<span class=\"token punctuation\">(</span>auto_created<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> primary_key<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> serialize<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'amount'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>IntegerField<span class=\"token punctuation\">(</span>default<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'잔액'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        migrations<span class=\"token punctuation\">.</span>CreateModel<span class=\"token punctuation\">(</span>\n            name<span class=\"token operator\">=</span><span class=\"token string\">'People'</span><span class=\"token punctuation\">,</span>\n            fields<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>BigAutoField<span class=\"token punctuation\">(</span>auto_created<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> primary_key<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> serialize<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'ID'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">126</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'이름'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'birth_date'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'생년월일'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token string\">'wallet'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span>ForeignKey<span class=\"token punctuation\">(</span>db_constraint<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span> on_delete<span class=\"token operator\">=</span>django<span class=\"token punctuation\">.</span>db<span class=\"token punctuation\">.</span>models<span class=\"token punctuation\">.</span>deletion<span class=\"token punctuation\">.</span>CASCADE<span class=\"token punctuation\">,</span> related_name<span class=\"token operator\">=</span><span class=\"token string\">'wallet'</span><span class=\"token punctuation\">,</span> to<span class=\"token operator\">=</span><span class=\"token string\">'person.wallet'</span><span class=\"token punctuation\">,</span> verbose_name<span class=\"token operator\">=</span><span class=\"token string\">'지갑'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span></code></pre></div>\n<p>여기서 해당 명령어를 입력하면 DB에 마이그레이션이 어떻게 적용되어 있는지 app_name 별로 현황을 볼 수 있습니다. (안넣으면 다 보여줍니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">python manage.py showmigrations person<span class=\"token punctuation\">(</span>app_name<span class=\"token punctuation\">)</span></code></pre></div>\n<p><img src=\"https://i.imgur.com/8f31OWs.png\" alt=\"스크린샷 2021-08-10 오전 2.18.05\"></p>\n<p>해당 마이그레이션 파일을 적용시키려면, 밑 명령어를 입력하시면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">python manage.py migrate person<span class=\"token punctuation\">(</span>app_name<span class=\"token punctuation\">)</span></code></pre></div>\n<p>연결된 DB를 확인해보시면, 테이블과 필드가 생성되었음을 확인하실 수 있습니다.</p>\n<p>여기서 어떤 SQL이 수행됐는지 확인하려면,</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">python manage.py sqlmigrate <span class=\"token punctuation\">[</span>app_name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>migration_number<span class=\"token punctuation\">]</span></code></pre></div>\n<p>을 치면 어떤 sql이 수행됐는지 확인할 수 있습니다.</p>\n<p>현업에서는 운영서버에 배포를 할 때 migration이 필요한 경우 sqlmigrate를 통해 적용할 sql을 확인하고 실제로 데이터베이스 내에서 수행하는 경우도 있습니다.</p>\n<p><img src=\"https://i.imgur.com/ulaRk1H.png\" alt=\"스크린샷 2021-08-10 오전 2.20.18\"></p>\n<p>다음편에서는 이렇게 생성한 객체를 통해 데이터베이스에 어떻게 접근하여 데이터를 조작하는지에 대해서 포스팅하겠습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#ormobject-relational-mapping\">ORM(Object Relational Mapping)</a></p>\n<ul>\n<li><a href=\"#%EC%9E%A5%EC%A0%90\">장점</a></li>\n<li><a href=\"#%EB%8B%A8%EC%A0%90\">단점</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#django%EC%9D%98-orm\">Django의 ORM</a></p>\n<ul>\n<li><a href=\"#%EB%AA%A8%EB%8D%B8\">모델</a></li>\n<li><a href=\"#migration\">Migration</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"July 10, 2021","title":"Django(장고) ORM 정리 - Model의 정의","categories":"Framework","author":"CodeSik","emoji":"🧢"},"fields":{"slug":"/Django-ORM-Model/"}},"prev":{"id":"41e625a4-7b9a-52b2-9f00-3c19436ab1fb","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 710px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA80lEQVQoz6WSsWrDMBCG80ad8yzd+i5ZMmTKE3ToEMdDthhrMZURyMZNsKfQTiFQErAhuFiqfHelFjGu7an50aA79Iv/PmlCd2jSLQDRAAL+ynaws7fluBkRiP6cs0dxoL7ZdtbZ8XElk1Ohv0pTAxEppbTW7XVa6xEzQM0OHzMmpsvnF/m2cZxXzoUQXqM0TeM4FkJIKbMs65qbbN+fxe6hfH/C6/ZaHHf7NAxD13WTJAmCwPM8xhjn3Pf9KIra4W8zo6bznC4LgsrGyvO8qiqb2RgDANajlGqTd4DZ1WDrUR1yHjwVGsJ6SLvnHAH2v0/yA8NQPNjdQHCHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"썸네일\"\n        title=\"썸네일\"\n        src=\"/static/aff71bbe4210d85c9625d38c4c8fc073/7131f/pythonic.png\"\n        srcset=\"/static/aff71bbe4210d85c9625d38c4c8fc073/e9ff0/pythonic.png 180w,\n/static/aff71bbe4210d85c9625d38c4c8fc073/f21e7/pythonic.png 360w,\n/static/aff71bbe4210d85c9625d38c4c8fc073/7131f/pythonic.png 710w\"\n        sizes=\"(max-width: 710px) 100vw, 710px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"callout\"> 💡우아하게, 파이썬스럽게 코드를 작성해보자. </p>\n<blockquote>\n<p>본 포스팅은 코딩테스트를 염두에두고 작성한 파이썬 코드 작성법이며, 파이썬 알고리즘 인터뷰(박상길 지음, 2020)를 읽으며 정리한 내용임을 밝힙니다.</p>\n</blockquote>\n<h2 id=\"프로그래밍-언어는-도구다\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%96%B8%EC%96%B4%EB%8A%94-%EB%8F%84%EA%B5%AC%EB%8B%A4\" aria-label=\"프로그래밍 언어는 도구다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로그래밍 언어는 도구다.</h2>\n<p>어떤 알고리즘을 작성할 때 언어는 도구에 불과한게 맞습니다.\n다만, 중요하게 생각해야할 점은</p>\n<blockquote>\n<p><strong>아무리 쉬운 도구라도 제대로 사용법을 숙지해야 제대로 사용할 수 있다.</strong></p>\n</blockquote>\n<p>입니다.</p>\n<p>같은 칼이라도, 저의 칼질과 횟집 사장님의 칼질은 차원이 다릅니다.</p>\n<p>저 또한 파이썬 문법에 대해 굉장히 깊이있는 내용까지 숙지하지 않고 현업에서, 혹은 학교 과제로 어설프게 익힌 언어로 코딩테스트를 시도할 때면 흔히 말하는 <code class=\"language-text\">삽질</code>을 굉장히 많이 했습니다.</p>\n<p>비유하자면 <code class=\"language-text\">횟감</code>에 집중해야 하는데, 어떤 칼을 쓸지만 고민하다가 시간이 다 지나버리는 거라고 할까요..</p>\n<p>따라서 파이썬이 쉬운 언어고 생산성이 좋은 언어로 알려졌다 하더라도 왜 쉽고 생산성이 좋은지 그 원리를 알지 못하면 제대로 그 장점을 활용하긴 어려울 것입니다.</p>\n<p>코딩테스트에서도 마찬가지 입니다. 어설프게 알고 있다면 많은 시간을 허비하고 제 시간에 문제를 풀지 못하게 될 것입니다.</p>\n<p>본 포스팅에선 파이썬을 파이썬스럽게 작성하는(<code class=\"language-text\">Pythonic</code>)방법에 대해 자세히 다뤄볼 것입니다.</p>\n<p>기본적으로 알고있다 해도 놓치기 쉬운 고급 문법을 하나씩 살펴볼 예정입니다.</p>\n<p>칼따위 신경쓰지 않고 <code class=\"language-text\">횟감</code>에 집중할 수 있는 사람이 될 수 있도록 해봅시다!</p>\n<h2 id=\"인덴트indent\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EB%8D%B4%ED%8A%B8indent\" aria-label=\"인덴트indent permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인덴트(Indent)</h2>\n<ul>\n<li>파이썬은 <code class=\"language-text\">PEP 8</code>에 기술된 기준을 적용해 공백 4칸을 원칙으로 합니다.</li>\n<li>파라미터 길이 혹은 함수명이 길어질 때, 개행을 통해 깔끔하게 보이도록한다.</li>\n</ul>\n<p>저는 파라미터의 길이가 길어질 때 밑과 같은 함수 정의 및 호출을 매우 선호하는데, 제 생각엔 가장 보기 좋은 것 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">function_long_long_name</span><span class=\"token punctuation\">(</span>\n        variable_one<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> variable_two<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span>\n        variable_three<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> variable_four<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">return</span> variable_one\n\nfunction_long_long_name<span class=\"token punctuation\">(</span>\n    variable_one<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> variable_two<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n    variable_three<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> variable_four<span class=\"token operator\">=</span><span class=\"token number\">4</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>파이참과 같은 IDE에서는 PEP 8 기준에 코딩스타일을 맞춰줄 수 있도록 해줍니다.</p>\n<h2 id=\"네이밍-컨벤션\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9D%B4%EB%B0%8D-%EC%BB%A8%EB%B2%A4%EC%85%98\" aria-label=\"네이밍 컨벤션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네이밍 컨벤션</h2>\n<p>파이썬에서는 기본적으로 <code class=\"language-text\">_</code> 를 통해 단어를 구분하는 <code class=\"language-text\">Snake Case</code>를 따릅니다. 자바와 같이 대소문자로 구별하는 방식을 <code class=\"language-text\">Camel Case</code>라고 하는데, 파이썬에서는 위 방식을 최대한 지양합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Snake Case</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">></span> snake_case<span class=\"token punctuation\">,</span> var_for_sum<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token comment\"># Camel Case</span>\n<span class=\"token comment\"># lowerCamelCase / UpperCamelCase</span>\n<span class=\"token operator\">-</span><span class=\"token operator\">></span> camelCase<span class=\"token punctuation\">,</span> NameOfVariable</code></pre></div>\n<h2 id=\"타입-힌트\" style=\"position:relative;\"><a href=\"#%ED%83%80%EC%9E%85-%ED%9E%8C%ED%8A%B8\" aria-label=\"타입 힌트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>타입 힌트</h2>\n<p>인덴트를 설명할 때 나온 코드에서 작성되어 있는데, Python 3.5 이상부터는 동적 타이핑 언어임에도 불구하고 타입을 명시해줄 수 있습니다.</p>\n<p>다만 타입을 명시한다고 해서 동적으로 할당을 못하는건 아니다보니 최대한 명시한 타입에 다른 타입을 할당하는 행위를 최대한 지양하는 것이 좋습니다. 오히려 가독성을 해칠 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># OK</span>\na<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span> <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>\n<span class=\"token comment\"># NO!!</span>\nb<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span> <span class=\"token operator\">=</span> <span class=\"token string\">'1'</span>\n\n<span class=\"token comment\"># 파라미터의 타입 및 함수의 Return 타입 명시</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">function</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span></code></pre></div>\n<p>위와 같이 타입을 명시해서 보기좋게 제출하면, 코딩테스트에서도 면접관들도 좋은 점수를 줄 수 있을겁니다. 근데 코딩테스트 내에서는 명시하지 않는다고 크게 문제되진 않습니다.</p>\n<p>다만 실무에서 코드를 작성할때는 좀 다릅니다. 저는 Django 기반으로 서버를 개발했기 때문에 Python을 사용했고, 가독성을 위해 Type Hint는 꼭 해놓는 편입니다.</p>\n<p>Primitive Type 말고도 다양한 ORM 기반 Model들을 사용하기 때문에 안해놓으면 유지보수가 굉장히 힘들어집니다. 그러니 파이썬을 사용할 때 타입힌트를 쓰는 습관을 꼭 들여놓으세요!</p>\n<h3 id=\"mypy\" style=\"position:relative;\"><a href=\"#mypy\" aria-label=\"mypy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>mypy</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ pip <span class=\"token function\">install</span> mypy</code></pre></div>\n<p>위 모듈을 통해 타입 힌트가 잘못 지정된 변수에 대해 Incompatible return value type 오류를 발생시켜 동적 할당으로 인한 문제 야기를 최소화할 수 있습니다.</p>\n<hr>\n<p>다음 포스팅에서는</p>\n<ul>\n<li>리스트 컴프리헨션</li>\n<li>제너레이터</li>\n<li>range</li>\n<li>enumerate</li>\n</ul>\n<p>에 대해 다뤄보겠습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EC%96%B8%EC%96%B4%EB%8A%94-%EB%8F%84%EA%B5%AC%EB%8B%A4\">프로그래밍 언어는 도구다.</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9D%B8%EB%8D%B4%ED%8A%B8indent\">인덴트(Indent)</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%84%A4%EC%9D%B4%EB%B0%8D-%EC%BB%A8%EB%B2%A4%EC%85%98\">네이밍 컨벤션</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%83%80%EC%9E%85-%ED%9E%8C%ED%8A%B8\">타입 힌트</a></p>\n<ul>\n<li><a href=\"#mypy\">mypy</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"September 05, 2021","title":"Pythonic하게 코드 작성하기 - 인덴트, 네이밍컨벤션, 타입힌트","categories":"CS","author":"CodeSik","emoji":"🧢"},"fields":{"slug":"/Pythonic-1/"}},"site":{"siteMetadata":{"siteUrl":"https://codesik.github.io","comments":{"utterances":{"repo":"CodeSik/CodeSik.github.io"}}}}},"pageContext":{"slug":"/Django-ORM-Operation/","nextSlug":"/Django-ORM-Model/","prevSlug":"/Pythonic-1/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}